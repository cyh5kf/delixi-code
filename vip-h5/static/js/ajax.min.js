"use strict";!function(t,e,n){if("function"==typeof t.define&&void 0!==define.amd)return e(t);e(t)}(window,function(t){var e=/xml/i,n=/script/i,r=/json$/i,a=/jsonp$/i,o={script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},c=[],i=[],s=document.getElementsByTagName("head")[0],u={url:location.href,method:"GET",data:{},headers:{},dataType:"JSON",withCredentials:!1,timeout:-1,contentType:"",async:!0,context:t,abort:function(){},success:function(){},error:function(){}};function l(l){var f,d,h,m,j=w(u,l||{}),v=p(j.data),y=null,b=!1,O=!0;if(v=p(j.data),m=function(t){var o="text";e.test(t)?o="xml":n.test(t)?o="script":r.test(t)?o="json":a.test(t)&&(o="jsonp");return o}(j.dataType),"get"===j.method.toLowerCase()&&(-1===j.url.indexOf("?")?j.url+="?"+v:j.url+="&"+v,v=null),j.timeout>0&&(y=setTimeout(function(){"Function"===x(j.abort)&&j.abort.call(j.context,f||null),b=!0},j.timeout)),"jsonp"!==m){O="withCredentials"in(f=t.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"));for(var g=0,F=c.length;g<F;g++)c[g](f);return f.onreadystatechange=function(){if(!b){for(var e=0,n=i.length;e<n;e++)i[e](f);if(4===f.readyState)if(y&&clearTimeout(y),h=f.responseText,f.status>=200&&f.status<300||304===f.status)try{"script"===m?h=new Function("return "+h).call(t):"xml"===m?null!==f.responseXML&&(h=f.responseXML):h="json"===m?h?JSON.parse(h):null:f.responseText,"Function"===x(j.success)&&j.success.call(j.context,h,f)}catch(t){"Function"===x(j.error)&&j.error.call(j.context,h,t,f)}else"Function"===x(j.error)&&j.error.call(j.context,h,null,f)}},j.withCredentials?j.headers=w(j.headers,{"Content-Type":"application/x-www-form-urlencoded",Accept:o[m].indexOf(",")>-1?o[m].split(",")[0]:o[m]}):j.headers=w(j.headers,{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded",Accept:o[m].indexOf(",")>-1?o[m].split(",")[0]:o[m]}),O&&(f.withCredentials=j.withCredentials),f.open(j.method,j.url,j.async),function(t,e){if("Object"===x(e))for(var n in e)e.hasOwnProperty(n)&&t.setRequestHeader(n,e[n])}(f,j.headers),f.send(v),f}(d=document.createElement("script")).type="text/javascript",j.url.indexOf("?")>-1?j.url+=v:j.url+="?"+v,d.src=j.url,s.appendChild(d),d.onload=function(){s.removeChild(d),!b&&y&&clearTimeout(y),"Function"===x(j.success)&&j.success.call(j.context,h,null)}}function f(t){return t=t||"",encodeURIComponent(t)}function p(t){var e=t;if("Object"===x(t)){e=[];for(var n in t)switch(x(t[n])){case"Object":e.push(f(h(t[n],n)));break;case"Array":e.push(f(d(t[n],n)));break;default:e.push(f(n)+"="+f(t[n]))}e=e.join("&").replace("%20","+")}return""+e}function d(t,e){for(var n=[],r=0,a=t.length;r<a;r++)switch(x(t[r])){case"Array":n.push(f(d(t[r],e+"["+r+"]")));break;case"Object":n.push(f(h(t[r],e+"["+r+"]")));break;default:n.push(f(e+"[]="+t[r]))}return n.join("&")}function h(t,e){var n=[];for(var r in t)switch(x(t[r])){case"Array":n.push(d(t[r],e+"["+r+"]"));break;case"Object":n.push(h(t[r],e+"["+r+"]"));break;default:n.push(f(e+"["+r+"]="+t[r]))}return n.join("&")}function x(t){return{}.toString.call(t).slice(8,-1)}function m(t){for(var e=0,n=t.length;e<n;e++)if("Function"!==x(t[e]))return!1;return!0}function w(t,e){var n=function t(e){var n,r,a;switch(r=/\[native\s{1}code\]/g,x(e)){case"Array":a=[];for(var o=0,c=e.length;o<c;o++)"Array"===(n=x(e[o]))||"Object"===n||"Function"===n?t(e[o]):a.push(e[o]);break;case"Object":a={};for(var o in e)e.hasOwnProperty(o)&&("Array"===(n=x(e[o]))||"Object"===n||"Function"===n?t(e[o]):a[o]=e[o]);break;case"Function":if(a=e.toString(),r.test(a))a=new Function("return "+a);else{a=new Function("return "+a);for(var o in e)a[o]=e[o]}break;default:a=e}return a}(t)||{};for(var r in e)n[r]=e[r];return n}return l.requestIntercept=function(t){if("Array"===x(t)&&m(t))c=t;else{if("Function"!==x(t))throw"ajax.requestIntercept excepted a function array or a function, but got"+t.toString();c=[t]}},l.responseIntercept=function(t){if("Array"===x(fns)&&m(fns))i=fns;else{if("Function"!==x(fns))throw"ajax.responseIntercept excepted a function array or a function, but got"+fns.toString();i=[fns]}},t.ajax=l,l});